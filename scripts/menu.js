"use strict";const menu={destacarFundoDeTotais(){for(let e of readonlyCels)readonlyCelsDarker.checked?e.classList.add("bg-gray"):e.classList.remove("bg-gray")},mostrarCaixaDePesquisa(){srcContainer.classList.add("on"),srcInput.focus(),srcInput.select()},omitirCaixaDePesquisa(){for(let e of(srcContainer.classList.remove("on"),srcInput.value="",farmacos))e.parentElement.classList.remove("hidden")},filtrarFarmaco(e){let o=e.toLowerCase();for(let t of farmacos)""===e?t.parentElement.classList.remove("hidden"):t.value.toLowerCase().includes(`${o}`)?t.parentElement.classList.remove("hidden"):t.parentElement.classList.add("hidden")},esvaziamento(){let e=document.querySelector("div.caixa-de-confirmacao"),o=document.querySelectorAll("div.body div.row input");return{mostrarCaixaDeConfirmacao(){let t=0;for(let r of o)""!=r.value&&t++;if(t>0)e.classList.add("on"),desfoqueDoFundo.on();else{let a=document.querySelector("div.caixa-de-alerta.ficha-vazia");a.classList.add("on"),desfoqueDoFundo.on()}},omitirCaixaDeConfirmacao(){e.classList.remove("on"),desfoqueDoFundo.off()},limparDados(){for(let e=0;e<o.length;e++)o[e].value="",o[e].placeholder="","undefined"!=typeof Storage&&localStorage.removeItem(`rb-cel${e}`),inputValidation.adicionarOuRemoverFundoVermelho(o[e],"-");let t=document.querySelectorAll("ul.limpadores-de-dados-adicionais input");t.forEach(e=>{if(e.checked){let o=e.dataset.for,t=document.querySelector(`#${o}`);if("elaborador"===o||"visto"===o)for(let r of t=document.querySelectorAll("input.elaborador, input.visto"))r.value="",localStorage.removeItem(`rb-${r.classList[0]}`);t.value="","undefined"!=typeof Storage&&localStorage.removeItem(`rb-${o}`)}});let r=document.querySelectorAll("div.col-tipo-de-requisicao input[type=checkbox], div.container aside input[type=checkbox]");for(let a of r)a.checked=!1,localStorage.removeItem(a.id);desfoqueDoFundo.off()}}},imprimirFicha(){for(let e of mainCels)e.hasAttribute("placeholder")&&e.removeAttribute("placeholder");window.print()},abrirArtigoSobre(){document.querySelector("section#sobre").classList.add("on"),desfoqueDoFundo.on()},abrirArtigoCookies(){document.querySelector("section#cookies").classList.add("on"),desfoqueDoFundo.on(),window.innerWidth<1024&&document.querySelector("body").classList.add("overflow-hidden")},salvarComoPdf(){window.innerWidth<1024?this.imprimirFicha():(document.querySelector("section#conversao-pdf").classList.add("on"),desfoqueDoFundo.on())}},desfoqueDoFundo={on(){divDesfocante.classList.add("on")},off(){let e=document.querySelectorAll("div.caixa-de-confirmacao, div.caixa-de-alerta, div.hamburguer"),o=0;for(let t of e)t.classList.contains("on")&&o++;if(o>0)return!1;divDesfocante.classList.remove("on")}};let readonlyCelsDarker,readonlyCels,srcContainer,srcInput,farmacos,divDesfocante;function init(){readonlyCelsDarker=document.querySelector("#readonlyinputs-darker"),readonlyCels=document.querySelectorAll("input[readonly]"),srcContainer=document.querySelector("div.caixa-de-pesquisa"),srcInput=document.querySelector("div.caixa-de-pesquisa input.pesquisar-linha"),farmacos=document.querySelectorAll("div.body div.row input[type=text]"),divDesfocante=document.querySelector("div.desfoque")}function eventListeners(){readonlyCelsDarker.addEventListener("change",()=>menu.destacarFundoDeTotais());let e=document.querySelector("button.ir-para"),o=document.querySelector("div.caixa-de-pesquisa button.fechar");e.addEventListener("click",()=>menu.mostrarCaixaDePesquisa()),o.addEventListener("click",()=>menu.omitirCaixaDePesquisa()),srcInput.addEventListener("keyup",()=>menu.filtrarFarmaco(srcInput.value.trim()));let t=document.querySelectorAll("div.caixa-de-alerta button");for(let r of t)r.addEventListener("click",()=>{r.parentElement.classList.remove("on"),srcInput.removeAttribute("readonly"),srcInput.select(),desfoqueDoFundo.off()});readonlyCels.forEach(e=>{e.addEventListener("click",()=>{document.querySelector("div.caixa-de-alerta.restricao-de-acesso-celular").classList.add("on"),desfoqueDoFundo.on()})});let a=document.querySelector("button.esvaziar-ficha");a.addEventListener("click",()=>menu.esvaziamento().mostrarCaixaDeConfirmacao());let i=document.querySelector("button.cancelar");i.addEventListener("click",()=>menu.esvaziamento().omitirCaixaDeConfirmacao());let s=document.querySelector("button.confirmar");s.addEventListener("click",()=>{menu.esvaziamento().limparDados(),menu.esvaziamento().omitirCaixaDeConfirmacao()});let n=document.querySelector("button.imprimir");n.addEventListener("click",()=>menu.imprimirFicha());let c=document.querySelector("button.abrir-artigo-sobre");c.addEventListener("click",()=>menu.abrirArtigoSobre()),"#sobre"===location.hash&&menu.abrirArtigoSobre();let l=document.querySelector("button.abrir-artigo-cookies");l.addEventListener("click",()=>menu.abrirArtigoCookies());let d=document.querySelectorAll("button.fechar-artigo");d.forEach(e=>{e.addEventListener("click",()=>{e.parentElement.classList.remove("on"),desfoqueDoFundo.off(),document.querySelector("body").classList.remove("overflow-hidden")})});let u=document.querySelector("section#cookies"),m=u.querySelector("h1"),v=u.querySelector("button.fechar-artigo");u.addEventListener("scroll",()=>{m.getBoundingClientRect().top<=0?(m.classList.add("sticky"),v.classList.add("with-h1-sticky")):(m.classList.remove("sticky"),v.classList.remove("with-h1-sticky"))}),document.querySelector("button.salvar-como-pdf").addEventListener("click",()=>menu.salvarComoPdf());let f={title:"Requisi\xe7\xe3o/Balancete",text:"O Requisi\xe7\xe3o/Balancete \xe9 um servi\xe7o online gratuito que, como o nome sugere, auxilia na elabora\xe7\xe3o de requisi\xe7\xe3o/balancete atrav\xe9s do c\xe1lculo autom\xe1tico do Stock Te\xf3rico Fim do Per\xedodo (SF), Diferen\xe7a entre o Stock Te\xf3rico e Stock F\xedsico e Quantidade a Requisitar com base nos dados de Controlo da Ficha de Stock e Invent\xe1rio preenchidos pelo usu\xe1rio (Profissional de Sa\xfade). Tem a estrutura id\xeantica ao modelo da ficha de requisi\xe7\xe3o/balancete actualmente (2023) vigente no Servi\xe7o Nacional de Sa\xfade (SNS) em Mo\xe7ambique.",url:"https://quinamin.github.io/requisicao-balancete/index.html"},q=document.querySelector("button.partilhar");q.addEventListener("click",()=>{try{navigator.share(f).then(()=>{console.log("Endere\xe7o do servi\xe7o Requisi\xe7\xe3o/Balancete partilhado com sucesso.")}).catch(e=>{console.log(`N\xe3o foi poss\xedvel partilhar devido ao erro: ${e}.`)})}catch(e){console.log("O seu navegador n\xe3o tem suporte ao m\xe9todo 'navigator.share()'.")}})}window.addEventListener("keyup",e=>{if("enter"===e.key.toLowerCase()){let o=document.querySelectorAll("div.caixa-de-alerta");o.forEach(e=>{e.matches(".on")&&(e.classList.remove("on"),srcInput.removeAttribute("readonly"),srcInput.select(),desfoqueDoFundo.off())})}}),window.addEventListener("load",()=>{init(),eventListeners()});